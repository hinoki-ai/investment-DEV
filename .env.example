# =============================================================================
# FAMILY INVESTMENT DASHBOARD - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!
# =============================================================================

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=info

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# For local development with Docker:
DB_USER=investor
DB_PASSWORD=family_future_2024
DB_NAME=investments
DB_PORT=5432
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@localhost:${DB_PORT}/${DB_NAME}

# For production (e.g., Supabase, AWS RDS):
# DATABASE_URL=postgresql://user:password@host:5432/database

# =============================================================================
# Cache (Redis)
# =============================================================================
REDIS_PORT=6379
REDIS_URL=redis://localhost:${REDIS_PORT}/0

# =============================================================================
# Storage (S3-Compatible: Cloudflare R2, AWS S3, MinIO)
# =============================================================================
# For Cloudflare R2:
# STORAGE_ENDPOINT=https://<account>.r2.cloudflarestorage.com
# STORAGE_ACCESS_KEY=your-r2-access-key
# STORAGE_SECRET_KEY=your-r2-secret-key
# STORAGE_BUCKET=family-investments
# STORAGE_REGION=auto

# For local MinIO (development):
STORAGE_ENDPOINT=http://localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET=investments
STORAGE_REGION=us-east-1

# Storage URL expiration time (in seconds)
STORAGE_URL_EXPIRATION=300

# =============================================================================
# AI Provider API Keys
# =============================================================================
# At least one AI provider is required for document analysis

# Moonshot AI (Kimi K2.5) - Recommended for Chinese documents
# Get from: https://platform.moonshot.cn/
KIMI_API_KEY=your-kimi-api-key
KIMI_API_URL=https://api.moonshot.cn/v1

# OpenAI (GPT-4o, GPT-4, GPT-3.5)
# Get from: https://platform.openai.com/
OPENAI_API_KEY=your-openai-key
OPENAI_API_URL=https://api.openai.com/v1

# Anthropic (Claude 3.5 Sonnet, Claude 3 Opus)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-key
ANTHROPIC_API_URL=https://api.anthropic.com

# Google (Gemini Pro)
# Get from: https://ai.google.dev/
GOOGLE_API_KEY=your-google-key

# Ollama (Local AI - optional)
# OLLAMA_API_URL=http://localhost:11434

# Default AI provider (kimi, openai, anthropic, google, ollama)
AI_PROVIDER=kimi
AI_API_KEY=${KIMI_API_KEY}  # Fallback if specific key not set

# =============================================================================
# API Configuration
# =============================================================================
API_PORT=8000
API_HOST=0.0.0.0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# Worker Configuration
# =============================================================================
WORKER_POLL_INTERVAL=10
MAX_CONCURRENT_JOBS=3
WORKER_TIMEOUT=300

# Mock AI responses (for testing)
MOCK_AI_RESPONSES=false

# =============================================================================
# Web Dashboard
# =============================================================================
WEB_PORT=5173
VITE_API_URL=http://localhost:${API_PORT}

# Feature Flags
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_SENTRY=false

# =============================================================================
# Monitoring (Optional)
# =============================================================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://xxx@yyy.ingest.sentry.io/zzz

# =============================================================================
# Notifications (Optional)
# =============================================================================
# Email configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# =============================================================================
# Security
# =============================================================================
# Encryption key for sensitive data at rest (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-encryption-key-32-bytes-long-change-it

# =============================================================================
# Development Only
# =============================================================================
# Enable debug mode (never in production!)
DEBUG=true

# Hot reload
UVICORN_RELOAD=true

# =============================================================================
# Production Only (set in production environment)
# =============================================================================
# SSL/TLS
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# CDN Configuration
# CDN_URL=https://cdn.yourdomain.com

# =============================================================================
# Mobile App
# =============================================================================
MOBILE_API_URL=http://10.0.2.2:8000  # For Android Emulator
# MOBILE_API_URL=http://YOUR_IP:8000   # For physical devices

# =============================================================================
# Backups (Optional)
# =============================================================================
# BACKUP_DIR=./backups
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
